<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuDS Enviro - Saved Configurations & Proposal</title>
    <!-- Link to the updated shared CSS file -->
    <link rel="stylesheet" href="css/style.css"> 
</head>
<body>
    <nav class="navbar">
        <div class="nav-logo">
            <img src="https://uploads-ssl.webflow.com/6662e401ea62d861a416088f/6662e78d9725ab79209f1b60_Primary%20Logo%20-%20Colour.svg" alt="SuDS Enviro Logo">
        </div>
        <ul class="nav-links">
            <li><a href="index.html">Tools Hub</a></li>
            <li><a href="planner.html">Drainage Planner</a></li>
            <li><a href="all_configs.html" class="active">Saved Configurations</a></li>
        </ul>
    </nav>

    <div class="container">
        <h1>Saved Product Configurations</h1>
        <div class="action-buttons-container">
            <button id="export-configs-btn">Export All Configurations (JSON)</button>
            <button id="clear-all-configs-btn">Clear All Saved Configurations</button>
        </div>
        <ul id="config-list">
            <p>Loading configurations or no configurations saved yet...</p>
        </ul>

        <div class="proposal-section">
            <h2>Generate Project Proposal</h2>

            <div class="proposal-input-group">
                <label for="customer-name">Customer Name / Company:</label>
                <input type="text" id="customer-name" placeholder="e.g., John Doe Construction Ltd.">
            </div>

            <div class="proposal-input-group">
                <label for="project-name">Project Name / Location:</label>
                <input type="text" id="project-name" placeholder="e.g., New Retail Park, Anytown or Site at Example Road">
            </div>
            
            <div class="proposal-input-group">
                <label for="project-notes">Specific Project Notes (Optional - for AI context):</label>
                <textarea id="project-notes" placeholder="e.g., High clay content on site, strict discharge limits, focus on biodiversity net gain..."></textarea>
            </div>

            <hr style="margin: 25px 0;"> <!-- Simple separator, could be styled further if needed -->

            <div class="suds-form-group"> 
                <label for="api-key-input">AI API Key (e.g., OpenAI):</label> <!-- Removed suds-label for consistency with .proposal-input-group label -->
                <div class="api-key-group">
                    <input type="password" id="api-key-input" placeholder="Enter your AI API Key here">
                    <button id="save-api-key-btn">Save Key</button> 
                </div>
            </div>

            <div class="action-buttons-container">
                <button id="generate-proposal-btn">Generate Proposal from All Saved Configurations</button>
                <button id="download-proposal-btn" style="display: none;">Download Proposal (.html)</button> 
            </div>
            <div id="proposal-status"></div>
            <div id="proposal-output">
                Proposal will appear here once generated...
            </div>
        </div>
    </div>

    <!-- Include marked.js library for Markdown to HTML conversion -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="js/all_configs.js"></script> <!-- Your JavaScript file -->
</body>
</html>
